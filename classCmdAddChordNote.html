<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lomse library. API documentation: CmdAddChordNote Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="lomse.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_100x195.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lomse library. API documentation
   &#160;<span id="projectnumber">0.28.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('classCmdAddChordNote.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classCmdAddChordNote-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">CmdAddChordNote Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p><code>#include &lt;lomse_command.h&gt;</code></p>
<div class="dynheader">
Inheritance diagram for CmdAddChordNote:</div>
<div class="dyncontent">
 <div class="center">
  <img src="classCmdAddChordNote.png" usemap="#CmdAddChordNote_map" alt=""/>
  <map id="CmdAddChordNote_map" name="CmdAddChordNote_map">
<area href="classDocCmdSimple.html" alt="DocCmdSimple" shape="rect" coords="0,56,121,80"/>
<area href="classDocCommand.html" alt="DocCommand" shape="rect" coords="0,0,121,24"/>
</map>
 </div></div>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A command for adding a note to an existing note and thus to create a chord, or for adding a note to an existing chord.</p>
<p>See constructor for details. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a033c364e124e9e5bc484f6ca1e1b935b"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCmdAddChordNote.html#a033c364e124e9e5bc484f6ca1e1b935b">CmdAddChordNote</a> (const string &amp;pitch, const string &amp;name=&quot;Add chord note&quot;)</td></tr>
<tr class="separator:a033c364e124e9e5bc484f6ca1e1b935b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab107233de2ad1a6fbae6abda17d37992"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCmdAddChordNote.html#ab107233de2ad1a6fbae6abda17d37992">get_cursor_update_policy</a> () override</td></tr>
<tr class="separator:ab107233de2ad1a6fbae6abda17d37992"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf998cfe8380dac6b3fb64c774ac9dd4"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCmdAddChordNote.html#adf998cfe8380dac6b3fb64c774ac9dd4">get_undo_policy</a> () override</td></tr>
<tr class="separator:adf998cfe8380dac6b3fb64c774ac9dd4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a1fccfc6e165d6e4a886970d7c24d2c6e"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classCmdAddChordNote.html#a1fccfc6e165d6e4a886970d7c24d2c6e">get_selection_update_policy</a> () override</td></tr>
<tr class="separator:a1fccfc6e165d6e4a886970d7c24d2c6e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classDocCmdSimple"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classDocCmdSimple')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classDocCmdSimple.html">DocCmdSimple</a></td></tr>
<tr class="memitem:a8bf9aa1e2a87310982879f8586918ac7 inherit pub_methods_classDocCmdSimple"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDocCmdSimple.html#a8bf9aa1e2a87310982879f8586918ac7">~DocCmdSimple</a> ()</td></tr>
<tr class="separator:a8bf9aa1e2a87310982879f8586918ac7 inherit pub_methods_classDocCmdSimple"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a76ec351676ea7583855bbca627e691d4 inherit pub_methods_classDocCmdSimple"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDocCmdSimple.html#a76ec351676ea7583855bbca627e691d4">is_composite</a> () override</td></tr>
<tr class="separator:a76ec351676ea7583855bbca627e691d4 inherit pub_methods_classDocCmdSimple"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="inherit_header pub_methods_classDocCommand"><td colspan="2" onclick="javascript:toggleInherit('pub_methods_classDocCommand')"><img src="closed.png" alt="-"/>&#160;Public Member Functions inherited from <a class="el" href="classDocCommand.html">DocCommand</a></td></tr>
<tr class="memitem:a242c0e33ef744f0b1958ac0c4176f823 inherit pub_methods_classDocCommand"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDocCommand.html#a242c0e33ef744f0b1958ac0c4176f823">~DocCommand</a> ()</td></tr>
<tr class="separator:a242c0e33ef744f0b1958ac0c4176f823 inherit pub_methods_classDocCommand"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adf68714b754c17c1c7f9b36187d321c8 inherit pub_methods_classDocCommand"><td class="memItemLeft" align="right" valign="top">std::string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDocCommand.html#adf68714b754c17c1c7f9b36187d321c8">get_name</a> ()</td></tr>
<tr class="separator:adf68714b754c17c1c7f9b36187d321c8 inherit pub_methods_classDocCommand"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a83621dd7d28d0a6d474bfc14cbe5397d inherit pub_methods_classDocCommand"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDocCommand.html#a83621dd7d28d0a6d474bfc14cbe5397d">is_reversible</a> ()</td></tr>
<tr class="separator:a83621dd7d28d0a6d474bfc14cbe5397d inherit pub_methods_classDocCommand"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac1e21dc807ca0d323e046f7da6ac9ecf inherit pub_methods_classDocCommand"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDocCommand.html#ac1e21dc807ca0d323e046f7da6ac9ecf">is_recordable</a> ()</td></tr>
<tr class="separator:ac1e21dc807ca0d323e046f7da6ac9ecf inherit pub_methods_classDocCommand"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4fcd738f3a6c0f375b44f16987a5937b inherit pub_methods_classDocCommand"><td class="memItemLeft" align="right" valign="top">string&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDocCommand.html#a4fcd738f3a6c0f375b44f16987a5937b">get_error</a> ()</td></tr>
<tr class="separator:a4fcd738f3a6c0f375b44f16987a5937b inherit pub_methods_classDocCommand"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="inherited"></a>
Additional Inherited Members</h2></td></tr>
<tr class="inherit_header pub_types_classDocCommand"><td colspan="2" onclick="javascript:toggleInherit('pub_types_classDocCommand')"><img src="closed.png" alt="-"/>&#160;Public Types inherited from <a class="el" href="classDocCommand.html">DocCommand</a></td></tr>
<tr class="memitem:a2ee82e62ad143d6c827a47312afd7add inherit pub_types_classDocCommand"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDocCommand.html#a2ee82e62ad143d6c827a47312afd7add">ECmdCursorPolicy</a> </td></tr>
<tr class="separator:a2ee82e62ad143d6c827a47312afd7add inherit pub_types_classDocCommand"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a7a5b650d7d0b6af7aba50ca0e4173b inherit pub_types_classDocCommand"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDocCommand.html#a0a7a5b650d7d0b6af7aba50ca0e4173b">ECmdUndoPolicy</a> </td></tr>
<tr class="separator:a0a7a5b650d7d0b6af7aba50ca0e4173b inherit pub_types_classDocCommand"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8f5897829747c5a527d7c7f410182e30 inherit pub_types_classDocCommand"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classDocCommand.html#a8f5897829747c5a527d7c7f410182e30">ECmdSelectionPolicy</a> </td></tr>
<tr class="separator:a8f5897829747c5a527d7c7f410182e30 inherit pub_types_classDocCommand"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="a033c364e124e9e5bc484f6ca1e1b935b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a033c364e124e9e5bc484f6ca1e1b935b">&#9670;&nbsp;</a></span>CmdAddChordNote()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">CmdAddChordNote::CmdAddChordNote </td>
          <td>(</td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>pitch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const string &amp;&#160;</td>
          <td class="paramname"><em>name</em> = <code>&quot;Add&#160;chord&#160;note&quot;</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>This command adds a new note to an existing note or chord. If the selected note prior to executing this command is not in a chord, a new chord will be created by combining this new note with the existing one. Otherwise, if the selected note is part of a chord, the new note is also added to the existing chord. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">pitch</td><td>A string with the pitch for the note to insert. The pitch must be in LDP format (step letter followed by octave, e.g. "c4", "b6", "f3"). Octave numbers are the same than in MIDI format, that is, octave 4 is the central one (a4 is 440Hz). </td></tr>
    <tr><td class="paramname">name</td><td>The displayable name for the command. If not specified will default to "Add chord note".</td></tr>
  </table>
  </dd>
</dl>
<p><b>Remarks</b></p><ul>
<li>The target for this command must be a selected note. The selection must contain only the target note, otherwise the command will not be executed and will return an error.</li>
<li>Only note pitch is needed as all other attributes (duration, voice, etc.) will be taken from the target note.</li>
<li>After executing the command:<ul>
<li>the selection will be cleared and the added note will be selected. That is, the selection will contain only the new added note.</li>
<li>the cursor will be pointing to added note.</li>
</ul>
</li>
</ul>
<p><b>Example</b></p>
<p>Consider an edition application in which the expected user interaction pattern is as follows:</p><ul>
<li>First, user selects a note.</li>
<li>As a consequence, the application enables and disables allowed tools for the new context. In this example, as the user has selected a note the tool "add chord note" is enabled (among other tools).</li>
<li>The user then clicks on the "add chord note" tool and execution arrives to the following method:</li>
</ul>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> CommandHandler::add_chord_note(<span class="keyword">const</span> <span class="keywordtype">string</span>&amp; stepLetter, <span class="keywordtype">int</span> octave)</div><div class="line">{</div><div class="line">    <span class="keywordflow">if</span> (SpInteractor spInteractor = m_pPresenter-&gt;<a class="code" href="classPresenter.html#a3542802890a4615d251a5a786cee62b5">get_interactor</a>(0).lock())</div><div class="line">    {</div><div class="line">        stringstream src;</div><div class="line">        src &lt;&lt; stepLetter &lt;&lt; octave;</div><div class="line">        <span class="keywordtype">string</span> pitch = src.str();</div><div class="line">        <span class="keywordtype">string</span> name = gettext(<span class="stringliteral">&quot;Add chord note&quot;</span>) + <span class="stringliteral">&quot;(&quot;</span> + pitch + <span class="stringliteral">&quot;)&quot;</span>;</div><div class="line">        SpInteractor-&gt;exec_command( <span class="keyword">new</span> <a class="code" href="classCmdAddChordNote.html#a033c364e124e9e5bc484f6ca1e1b935b">CmdAddChordNote</a>(pitch, name) );</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --> 
</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="ab107233de2ad1a6fbae6abda17d37992"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab107233de2ad1a6fbae6abda17d37992">&#9670;&nbsp;</a></span>get_cursor_update_policy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CmdAddChordNote::get_cursor_update_policy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns a value from <a class="el" href="classDocCommand.html#a2ee82e62ad143d6c827a47312afd7add">ECmdCursorPolicy</a> that indicates the update policy followed by this command. </p>

<p>Implements <a class="el" href="classDocCommand.html#a23cf8b2e1f6790bf5ae85e24349441f2">DocCommand</a>.</p>

</div>
</div>
<a id="a1fccfc6e165d6e4a886970d7c24d2c6e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a1fccfc6e165d6e4a886970d7c24d2c6e">&#9670;&nbsp;</a></span>get_selection_update_policy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CmdAddChordNote::get_selection_update_policy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns a value from <a class="el" href="classDocCommand.html#a8f5897829747c5a527d7c7f410182e30">ECmdSelectionPolicy</a> that indicates the undo policy followed by this command. </p>

<p>Implements <a class="el" href="classDocCommand.html#a9018e1487527f436d5f0ac53b907d4d4">DocCommand</a>.</p>

</div>
</div>
<a id="adf998cfe8380dac6b3fb64c774ac9dd4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf998cfe8380dac6b3fb64c774ac9dd4">&#9670;&nbsp;</a></span>get_undo_policy()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int CmdAddChordNote::get_undo_policy </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<p>Returns a value from <a class="el" href="classDocCommand.html#a0a7a5b650d7d0b6af7aba50ca0e4173b" title="This enum describes the available undo policies for commands. ">ECmdUndoPolicy</a> that indicates the undo policy followed by this command. </p>

<p>Implements <a class="el" href="classDocCommand.html#a1676ed87380eb546cbbd1f4fdc37af16">DocCommand</a>.</p>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="classCmdAddChordNote.html">CmdAddChordNote</a></li>
    <li class="footer">Generated on Mon Jan 11 2021 19:30:36 for Lomse library. API documentation by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
