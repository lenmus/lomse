<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Lomse library. API documentation: Coordinate systems, units, scaling and viewport</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="lomse.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_100x195.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Lomse library. API documentation
   &#160;<span id="projectnumber">0.27.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('viewport-overview.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Coordinate systems, units, scaling and viewport </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#lomse-units">Device and logical units</a></li>
<li class="level1"><a href="#scale-factor">Scaling</a></li>
<li class="level1"><a href="#viewport-concept">Scrolling: the Viewport</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="lomse-units"></a>
Device and logical units</h1>
<p>In Lomse there is a distinction between <em>logical</em> units and <em>device</em> units.</p>
<p>All document dimensions are expressed in real world units. In particular, Lomse uses as unit one cent of a millimeter. Real world units are usually named <b>logical</b> units. Lomse and uses type <em>LUnits</em> for variables expressed cents of a millimeter.</p>
<p>But as the document is going to be displayed on a screen (or other device) it is necesary to transform real world dimensions into device dimensions. <b>Device</b> units are the units native to a particular device; e.g. for a screen, a device unit is a <em>pixel</em>. For a printer, the device unit is defined by the resolution of the printer (usually given in <code>DPI:</code> dots-per-inch).</p>
<h1><a class="anchor" id="scale-factor"></a>
Scaling</h1>
<p>Logical units are mapped to device units (pixels) using the current rendering resolution. For screen oriented method, this resolution is set at Lomse initialization, in method <a class="el" href="classLomseDoorway.html#a01e4f12682054e5a96afa236501ac80f">LomseDoorway::init_library()</a>. For printing, the resolution is set in method <a class="el" href="classInteractor.html#a56006a47ef6164ad139c2d5bb1e17c3d">Interactor::set_print_ppi()</a>. Nevertheless, this mapping can be modified by using an scale factor.</p>
<p>See: <a class="el" href="classInteractor.html#ad79a50661807b829755219e4bdf21121">Interactor::get_scale()</a>, <a class="el" href="classInteractor.html#a5e7dbf2be635475f40ba9b723a902d37">Interactor::set_scale()</a>, <a class="el" href="classInteractor.html#a4ec8ec1d6b84a74d656f2773c741e222">Interactor::zoom_in()</a>, <a class="el" href="classInteractor.html#a6fc96dec0a3767152cd953d2ec68ec96">Interactor::zoom_out()</a>, <a class="el" href="classInteractor.html#ac83345221209221be48169f01a4cd253">Interactor::zoom_fit_full()</a>, <a class="el" href="classInteractor.html#a8d486a75231279d13370cb9744f8cf11">Interactor::zoom_fit_width()</a>.</p>
<h1><a class="anchor" id="viewport-concept"></a>
Scrolling: the Viewport</h1>
<p>In Lomse, the GraphicModel represents what in computer graphics theory is named the <em>real world</em>, a virtual renderization of the full document at real size (e.g. millimeters). It is a virtual image of the full document organized as expected by the chosen View type. For instance, when you choose a View of type <em>VerticalBook View</em> the graphic model will be a model for this renderization:</p>
<div class="image">
<img src="world-model.png" alt="world-model.png"/>
<div class="caption">
Image: The 'real world' when using a 'VerticalBook' View</div></div>
<p> In the <em>VerticalBook View</em> the logical coordinate origin (0.0 , 0.0) is at top left corner of the first document page, the <em>y</em> axis increments down, and all measurements are in logical units (cents of a millimeter). If the score in previous example was using A4 paper (210 × 297 mm), the bottom right corner of first page will be located at logical coordinate (21000.0 , 29700.0).</p>
<p>When requesting Lomse to render the document onto your application window it is not expected that Lomse will squeeze all the document pages into that window, but just the specific part of the document that the user wants to visualize, as it is expected that the users can pan and zoom to see different areas of the document.</p>
<p>In computer graphics theory, this part of the document that the user wants to visualize is named the <em>world window</em> (not be confused with your application window or GUI window) and its dimensions and position are expresed in real world units (Lomse uses cents of a millimeter). But as the document is going to be displayed on a screen (or other device) it is necesary to transform real world dimensions into device dimensions. Once the document dimensions are transformed into device units (pixels) the equivalent to the <em>world window</em> is named the <em>viewport</em>. See the following picture:</p>
<div class="image">
<img src="viewport.png" alt="viewport.png"/>
<div class="caption">
Image: The 'viewport' and the 'device window'</div></div>
<p> That is, the <em>viewport</em> is the visible portion of the document, but in device units (pixels). If the document is larger than the viewport, the user can shift the viewport around by changing the viewport origin (this is the way for implementing scrolling).</p>
<p>See: <a class="el" href="classInteractor.html#a0eb3195aed54028cc3f250c38029e8f8">Interactor::new_viewport()</a>, <a class="el" href="classInteractor.html#a81455e8a584d8dff982c3f43e92e7f34">Interactor::set_viewport_at_page_center()</a>, <a class="el" href="classInteractor.html#afc7dac3c7d8b7d629f38b79750e34905">Interactor::get_viewport()</a>, <a class="el" href="classInteractor.html#a331181fe34d2f9399578bbe4be3f5f65">Interactor::get_view_size()</a>.</p>
<p>If the user would like to see a greater portion it can adjust the scaling factor that controls the conversion from logical units (tenths o a millimeter) to device units (pixels). See section scale-factor </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated on Thu Oct 29 2020 15:29:43 for Lomse library. API documentation by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
