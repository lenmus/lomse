<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>Lomse library. API documentation: Introduction</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
  $(window).load(resizeHeight);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="lomse.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="logo_100x195.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Lomse library. API documentation
   &#160;<span id="projectnumber">0.19.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Overview</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="modules.html"><span>Types&#160;and&#160;constants</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
      <li class="current"><a href="pages.html"><span>Other</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('lomse-introduction.html','');});
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Groups</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Pages</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="headertitle">
<div class="title">Introduction </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#lomse-philosophy">Lomse philosophy</a></li>
<li class="level1"><a href="#overview-doorway">Class LomseDoorway</a></li>
<li class="level1"><a href="#overview-mvc">The Document and related classes</a></li>
<li class="level1"><a href="#overview-rendering">Displaying documents</a></li>
<li class="level1"><a href="#overview-print">Printing documents</a></li>
<li class="level1"><a href="#overview-edition">Editing documents</a></li>
<li class="level1"><a href="#overview-sound-engine">The sound engine</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="lomse-philosophy"></a>
Lomse philosophy</h1>
<p>In summary:</p>
<ul>
<li>It is platform independent code, with no knowledge about your platform way of doing things.</li>
<li>Its aim is to provide the services and to delegate in your application for building the presentation / interaction layer.</li>
</ul>
<p>Lomse has no knowledge about your platform native components, windows, or ways of doing things, such as how to produce sounds. Therefore, Lomse does not have methods for doing things such as creating windows or printing documents.</p>
<p>Lomse aims at not constraining your application. Lomse provides all the necessary services (i.e. for reading documents, rendering and editing them, and for playing back scores). But the interface with the user (i.e. the window on which the document is going to be rendered, or the sound engine for producing the sounds) must be provided by your application. Your application is responsible for the presentation and interaction layer. You can use Lomse in any context: interactive programs with a GUI, batch scripts for processing music scores, etc.</p>
<p>For understanding Lomse API you should know about a very few important classes and components described in the following sections.</p>
<h1><a class="anchor" id="overview-doorway"></a>
Class LomseDoorway</h1>
<p>It is the access point to the Lomse library. It must be used by your application at two points:</p>
<ol type="1">
<li>Before using the Lomse library it is necessary to initialize it. This means setting up certain options about rendering and event handling.</li>
<li>Later, your application has to use it for:<ul>
<li>Opening and creating Document objects.</li>
<li>Accessing global objects and variables in Lomse library.</li>
</ul>
</li>
</ol>
<p>See description and usage in documentation for class <a class="el" href="classLomseDoorway.html">LomseDoorway</a>.</p>
<h1><a class="anchor" id="overview-mvc"></a>
The Document and related classes</h1>
<p>Class Document represents a document with any kind of content: music scores, texts, paragraphs, images, tables, lists, etc. Documents are created by invoking <a class="el" href="classLomseDoorway.html#a1b00546f591c2041df5ed86ea0681948">LomseDoorway::new_document()</a> and <a class="el" href="classLomseDoorway.html#a5bb03ca7f58b797ce095354457e9070e">LomseDoorway::open_document()</a> methods.</p>
<p>When a Document is created, additional objects for marshaling the actions between your application and the Document are created. These additional objects are part of the Lomse Model-View-Controller (MVC) architecture. The main objects associated to a Document are:</p>
<ul>
<li>The <a class="el" href="classInteractor.html">Interactor</a>: It is the interface for interacting with the Document. You can consider it as the controller in the MVC model.</li>
<li>The View: It is an observer of the Document, and its main responsibility is to render it. The rendering type depends on the specific view class used. For instance, class <em>GraphicView</em> renders the document on a bitmap. Other classes would be possible (i.e. a view class to render the document as an SVG stream, a view for rendering as Braille code, a view for rendering as source code, etc.) but currently Lomse only has implemented several variations of <em>GraphicView</em> (<em>VerticalBookView</em>, <em>HorizontalBookView</em>, and <em>SimpleView</em> ). The Lomse MVC model supports having many simultaneous views for a document. The <a class="el" href="classInteractor.html">Interactor</a> is the owner of the View, and there is an <a class="el" href="classInteractor.html">Interactor</a> per View.</li>
<li>The <a class="el" href="classPresenter.html">Presenter</a> - It is the owner of the Document and of all its <a class="el" href="classInteractor.html">Interactor</a> objects. The <a class="el" href="classPresenter.html">Presenter</a>'s main responsibility is to build (and delete) the MVC model for a Document.</li>
</ul>
<p>All these issues are described in <a class="el" href="render-overview.html#mvc-overview">The Lomse Model-View-Controller</a>.</p>
<h1><a class="anchor" id="overview-rendering"></a>
Displaying documents</h1>
<p>Lomse is platform independent code and knows nothing about how to create a window or how to display a document on the screen. Lomse works by rendering the documents on a bitmap buffer, that is, on an array of consecutive memory bytes. This buffer can be any type of memory, such as a real bitmap, a window's buffer, etc. The simplest and usual way of rendering documents on a window is:</p>
<ol type="1">
<li>Create a new empty bitmap when necessary (i.e when the window is created or resized),</li>
<li>Ask Lomse to render the desired portion of the document on this bitmap, and</li>
<li>Copy the bitmap onto the window.</li>
</ol>
<p>These operations are usually triggered by your application when handling some operating system events, such as <b>window paint</b> events.</p>
<p>The details and methods you have to use for displaying documents are described in <a class="el" href="render-overview.html">Rendering documents overview</a>.</p>
<h1><a class="anchor" id="overview-print"></a>
Printing documents</h1>
<p>As Lomse is platform independent code, it knows nothing about how to print in the operating system used by your application. Therefore, it is your application responsibility to implement printing. Lomse just offers some supporting methods so that implementing printing does not require much work. In fact, implementing printing in your application is just printing bitmaps.</p>
<p>The details and methods you have to use for printing are described in <a class="el" href="print-api.html">Printing documents overview</a>.</p>
<h1><a class="anchor" id="overview-edition"></a>
Editing documents</h1>
<p>Editing documents in Lomse is very simple: just invoke <a class="el" href="classInteractor.html#ac0f2b87ac27d4d4a4692dc9ce5b42291">Interactor::exec_command()</a> method and pass the command to execute, e.g. <em>insert note</em> or <em>delete paragraph</em>.</p>
<p>Lomse supports undo/redo operations and takes care of all the houskeeping for this. In your application just invoke:</p>
<ul>
<li><a class="el" href="classInteractor.html#a827410e940b1c1d7bcc42414d73a33aa">Interactor::exec_undo()</a> method for undoing the last command, and</li>
<li><a class="el" href="classInteractor.html#a6571c803f6a3626793756119821101e8">Interactor::exec_redo()</a> method for redoing the last undone command.</li>
</ul>
<p>Most edition commands require a reference point in the document. For this, Lomse maintains two objects: a Cursor and a set of selected objects (the SelectionSet object).</p>
<p>For moving the cursor to another position and for selecting or deselecting objects your application just issue specific edition commands, such as <em>advance cursor</em>, <em>move cursor to start of score</em> or <em>select object</em>.</p>
<p>And this is, basically, the document edition API. It is very simple and gives full freedom to your application for implementing the GUI as you'd like, or for not a having a GUI! For more details see <a class="el" href="document-edition-overview.html">Editing documents overview</a>.</p>
<h1><a class="anchor" id="overview-sound-engine"></a>
The sound engine</h1>
<p>Lomse is platform independent code and cannot generate sounds for your specific platform. Therefore, lomse implements playback by generating real-time events and sending them to your application. It is responsibility of your application to handle these events and do whatever is needed, i.e. transform sound events into real sounds or doing whatever you would like with the sound events.</p>
<p>The details and classes you have to use for scores playback are described in <a class="el" href="sound-generation.html">Scores playback overview</a>. </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="index.html">Overview</a></li>
    <li class="footer">Generated on Mon May 16 2016 17:22:48 for Lomse library. API documentation by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.6 </li>
  </ul>
</div>
</body>
</html>
